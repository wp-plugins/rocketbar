(function(b){var n;b(document).ready(function(){var c=document.rocketBarCache,b=[];c.commands=document.rocketbarCommands;console.log(c.commands);for(var d in c.commands)if(c.commands.hasOwnProperty(d)){var f=c.commands[d];f.searchableIndex=b.length;f.iconHTML='<img class="wp-menu-image svg" src="'+document.rocketbarIcon+'" style="fill: white; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;"></div>';f.link=f.url;b.push(f.description)}for(var g in c.pages)c.pages.hasOwnProperty(g)&&
(d=c.pages[g],d.searchableIndex=b.length,d.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-page"><br></div>',b.push(d.title));for(g in c.taxonomies)c.taxonomies.hasOwnProperty(g)&&(d=c.taxonomies[g],d.searchableIndex=b.length,d.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-post"><br></div>',b.push(d.title));d={};var f={},h;for(h in c.menu)if(c.menu.hasOwnProperty(h)){var a=c.menu[h];a.searchableIndex=b.length;a[6]&&!a[6].match(/^data:image|^http/i)?a.iconHTML=
'<div class="wp-menu-image dashicons-before '+a[6]+'"></div>':a[6]&&a[6].match(/data:image\/svg/i)?a.iconHTML='<div class="wp-menu-image svg" style="background-image: url(\''+a[6]+"') !important; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;\"></div>":a[6]&&a[6].match(/http/i)?a.iconHTML='<img src="'+a[6]+'" style="width: 18px; height: 18px; vertical-align: top;" />':a.iconHTML="";var e=a[2];e.match(/\.php/)?a.link=c.admin_url+e:a.link=c.admin_url+"admin.php?page="+
e;a[0].length&&(e=a[0].replace(/<(?:.|\n)*?>/gm,"").replace(/\ \d$/,""),d[a[2]]=e,f[a[2]]=a.iconHTML)}for(var m in c.submenu)if(c.submenu.hasOwnProperty(m))for(g in h=c.submenu[m],a=d[m],h)if(h.hasOwnProperty(g)){var l=h[g],e=l[2];e.match(/\.php/)?l.link=c.admin_url+e:l.link=c.admin_url+"admin.php?page="+e;e=l[0].replace(/<(?:.|\n)*?>/gm,"").replace(/\ \d$/,"");e.length&&(l.searchableIndex=b.length,l.iconHTML=f[m],b.push(a+" \u2192 "+e))}var p=function(a,b){if("number"===!typeof a||"object"!==typeof b)return!1;
if(b.hasOwnProperty("searchableIndex")&&b.searchableIndex===a)return b;for(var c in b)if(b.hasOwnProperty(c)&&"object"===typeof b[c]){var e=p(a,b[c]);if(!1!==e)return e}return!1};n=function(a){var e=b.fuzzyMatches(a);e.forEach(function(a,d){var f=b.indexOf(a.text);e[d]=p(f,c);e[d].txt="";e[d].priority=a.priority;a.text.split("").forEach(function(b,c){-1!==a.matches.indexOf(c)?e[d].txt+="<strong>"+b+"</strong>":e[d].txt+=b})});return e}});b(document).ready(function(){var c=document.createElement("div");
b(c).addClass("rocketbar-wrapper");b(c).append('<input type="text" id="rocketbar" placeholder="Type to navigate..." autofocus="yes" value="" /><ul id="rocketbar-list"></ul>');b("body").append(c);var k=b("#rocketbar"),d=b("#rocketbar-list"),f=0;b(document).on("keyup",function(a){if(!h())return f=0;a.preventDefault();38===a.keyCode?f--:40===a.keyCode&&f++;0>f&&(f=0);g()});k.on("keyup",function(a){13===a.keyCode&&(a.preventDefault(),b("#rocketbar-list > li > a").each(function(a,c){a===f&&(b(c).click(),
document.location=b(c).attr("href"))}))});k.on("change keyup keydown paste",function(){var a=n(b(this).val());d.html("");a=a.slice(0,10);a.forEach(function(a){d.append("<li>"+a.iconHTML+'<a href="'+a.link+'">'+a.txt+"</a></li>")});g()});b(document).on("keydown",function(a){a.shiftKey&&32===a.keyCode&&b(c).toggle();27===a.keyCode&&h()&&b(c).hide();h()||k.val("");" "===k.val()&&k.val("");k.focus()});var g=function(){d.find("li").each(function(a,c){a===f?b(c).addClass("selected"):b(c).removeClass("selected")})},
h=function(){return b(c).is(":visible")}})})(jQuery);
