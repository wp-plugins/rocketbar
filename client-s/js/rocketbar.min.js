(function(b){var p,q;b(document).ready(function(){var d=document.rocketBarCache,b=[],h=document.rocketbarCommands,e;for(e in h)if(h.hasOwnProperty(e)){var k=h[e];k.searchableIndex=b.length;k.iconHTML='<img class="wp-menu-image svg" src="'+document.rocketbarIcon+'" style="fill: white; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;"></div>';k.link=k.url}for(var g in d.pages)d.pages.hasOwnProperty(g)&&(e=d.pages[g],e.searchableIndex=b.length,e.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-page"><br></div>',
b.push(e.title));for(g in d.taxonomies)d.taxonomies.hasOwnProperty(g)&&(e=d.taxonomies[g],e.searchableIndex=b.length,e.iconHTML='<div class="wp-menu-image dashicons-before dashicons-admin-post"><br></div>',b.push(e.title));e={};var k={},c;for(c in d.menu)if(d.menu.hasOwnProperty(c)){var a=d.menu[c];a.searchableIndex=b.length;a[6]&&!a[6].match(/^data:image|^http/i)?a.iconHTML='<div class="wp-menu-image dashicons-before '+a[6]+'"></div>':a[6]&&a[6].match(/data:image\/svg/i)?a.iconHTML='<div class="wp-menu-image svg" style="background-image: url(\''+
a[6]+"') !important; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;\"></div>":a[6]&&a[6].match(/http/i)?a.iconHTML='<img src="'+a[6]+'" style="width: 18px; height: 18px; vertical-align: top;" />':a.iconHTML="";var f=a[2];f.match(/\.php/)?a.link=d.admin_url+f:a.link=d.admin_url+"admin.php?page="+f;a[0].length&&(f=a[0].replace(/<(?:.|\n)*?>/gm,"").replace(/\ \d$/,""),e[a[2]]=f,k[a[2]]=a.iconHTML)}for(var n in d.submenu)if(d.submenu.hasOwnProperty(n))for(g in c=d.submenu[n],
a=e[n],c)if(c.hasOwnProperty(g)){var m=c[g],f=m[2];f.match(/\.php/)?m.link=d.admin_url+f:m.link=d.admin_url+"admin.php?page="+f;f=m[0].replace(/<(?:.|\n)*?>/gm,"").replace(/\ \d$/,"");f.length&&(m.searchableIndex=b.length,m.iconHTML=k[n],b.push(a+" \u2192 "+f))}var r=function(a,b){if("number"===!typeof a||"object"!==typeof b)return!1;if(b.hasOwnProperty("searchableIndex")&&b.searchableIndex===a)return b;for(var c in b)if(b.hasOwnProperty(c)&&"object"===typeof b[c]){var d=r(a,b[c]);if(!1!==d)return d}return!1};
p=function(a){var c=b.fuzzyMatches(a);c.forEach(function(a,e){var f=b.indexOf(a.text);c[e]=r(f,d);c[e].txt="";c[e].priority=a.priority;a.text.split("").forEach(function(b,d){-1!==a.matches.indexOf(d)?c[e].txt+="<strong>"+b+"</strong>":c[e].txt+=b})});return c};q=function(a){if(a.trim().length){var c=a.trim().split(" ")[0].toLowerCase();a=a.replace(c,"").trim();var b=!1,e;for(e in h)if(h.hasOwnProperty(e)){var d=h[e];b||0!==e.indexOf(c)||(d.dynamicLink=a.length&&d.param?d.url+d.start+d.param+"="+encodeURIComponent(a):
d.url,b=d)}return b}}});b(document).ready(function(){var d=document.createElement("div");b(d).addClass("rocketbar-wrapper");b(d).append('<input type="text" id="rocketbar" placeholder="Type to navigate..." autofocus="yes" value="" /><ul id="rocketbar-list"></ul>');b("body").append(d);var l=b("#rocketbar"),h=b("#rocketbar-list"),e=0;b(document).on("keyup",function(b){if(!g())return e=0;b.preventDefault();38===b.keyCode?e--:40===b.keyCode&&e++;0>e&&(e=0);k()});l.on("keyup",function(c){13===c.keyCode&&
(c.preventDefault(),b("#rocketbar-list > li > a").each(function(a,c){a===e&&(b(c).click(),document.location=b(c).attr("href"))}))});l.on("change keyup keydown paste",function(){h.html("");var c=q(b(this).val());c&&h.append("<li>"+c.iconHTML+'<a href="'+c.dynamicLink+'">'+c.description+"</a></li>");c=p(b(this).val());c=c.slice(0,10);c.forEach(function(a){h.append("<li>"+a.iconHTML+'<a href="'+a.link+'">'+a.txt+"</a></li>")});k()});b(document).on("keydown",function(c){c.shiftKey&&32===c.keyCode&&b(d).toggle();
27===c.keyCode&&g()&&b(d).hide();g()||l.val("");" "===l.val()&&l.val("");l.focus()});var k=function(){h.find("li").each(function(c,a){c===e?b(a).addClass("selected"):b(a).removeClass("selected")})},g=function(){return b(d).is(":visible")}})})(jQuery);
