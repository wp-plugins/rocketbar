(function(b) {
	var n;
	(function() {
		var d = document.rocketBarCache, b = [], g;
		for(g in d.pages)if(d.pages.hasOwnProperty(g)) {
			var e = d.pages[g];
			e.searchableIndex = b.length;
			e.iconHTML = '<div class="wp-menu-image dashicons-before dashicons-admin-page"><br></div>';
			b.push(e.title)
		}
		for(g in d.taxonomies)d.taxonomies.hasOwnProperty(g) && (e = d.taxonomies[g], e.searchableIndex = b.length, e.iconHTML = '<div class="wp-menu-image dashicons-before dashicons-admin-post"><br></div>', b.push(e.title));
		var e = {}, k = {}, c;
		for(c in d.menu)if(d.menu.hasOwnProperty(c)) {
			var a =
				d.menu[c];
			a.searchableIndex = b.length;
			a[6] && !a[6].match(/^data:image|^http/i) ? a.iconHTML = '<div class="wp-menu-image dashicons-before ' + a[6] + '"></div>' : a[6] && a[6].match(/data:image\/svg/i) ? a.iconHTML = '<div class="wp-menu-image svg" style="background-image: url(\'' + a[6] + "') !important; width: 20px; height: 20px; background-size: contain; background-repeat: no-repeat;\"></div>" : a[6] && a[6].match(/http/i) ? a.iconHTML = '<img src="' + a[6] + '" style="width: 20px; height: 20px;" />' : a.iconHTML = "";
			var f = a[2];
			f.match(/\.php/) ?
			a.link = d.admin_url + f : a.link = d.admin_url + "admin.php?page=" + f;
			a[0].length && (f = a[0].replace(/<(?:.|\n)*?>/gm, "").replace(/\ \d$/, ""), e[a[2]] = f, k[a[2]] = a.iconHTML)
		}
		for(var l in d.submenu)if(d.submenu.hasOwnProperty(l))for(g in c = d.submenu[l], a = e[l], c)if(c.hasOwnProperty(g)) {
			var h = c[g], f = h[2];
			f.match(/\.php/) ? h.link = d.admin_url + f : h.link = d.admin_url + "admin.php?page=" + f;
			f = h[0].replace(/<(?:.|\n)*?>/gm, "").replace(/\ \d$/, "");
			f.length && (h.searchableIndex = b.length, h.iconHTML = k[l], b.push(a + " \u2192 " + f))
		}
		var p =
			function(a, b) {
				if("number" === !typeof a || "object" !== typeof b)return !1;
				if(b.hasOwnProperty("searchableIndex") && b.searchableIndex === a)return b;
				for(var d in b)if(b.hasOwnProperty(d) && "object" === typeof b[d]) {
					var c = p(a, b[d]);
					if(!1 !== c)return c
				}
				return !1
			};
		n = function(a) {
			var c = b.fuzzyMatches(a);
			c.forEach(function(a, e) {
				var f = b.indexOf(a.text);
				c[e] = p(f, d);
				c[e].txt = "";
				a.text.split("").forEach(function(b, d) {-1 !== a.matches.indexOf(d) ? c[e].txt += "<strong>" + b + "</strong>" : c[e].txt += b})
			});
			return c
		}
	})();
	b(document).ready(function() {
		var d =
			document.createElement("div");
		b(d).addClass("rocketbar-wrapper");
		b(d).append('<input type="text" id="rocketbar" placeholder="Type to navigate..." /><ul id="rocketbar-list"></ul>');
		b("body").append(d);
		var m = b("#rocketbar"), g = b("#rocketbar-list"), e = 0;
		b(document).on("keyup", function(c) {
			if(!b(d).is(":visible"))return e = 0;
			c.preventDefault();
			38 === c.keyCode ? e-- : 40 === c.keyCode && e++;
			0 > e && (e = 0);
			k()
		});
		m.on("keyup", function(c) {
			13 === c.keyCode && (c.preventDefault(), b("#rocketbar-list > li > a").each(function(a,
			                                                                                     c) {a === e && (b(c).click(), document.location = b(c).attr("href"))}))
		});
		m.on("change keyup keydown paste", function() {
			var c = n(b(this).val());
			g.html("");
			c = c.slice(0, 10);
			c.forEach(function(a) {g.append("<li>" + a.iconHTML + '<a href="' + a.link + '">' + a.txt + "</a></li>")});
			k()
		});
		b(document).on("keydown", function(c) {
			c.shiftKey && 32 === c.keyCode && b(d).toggle();
			m.focus();
			27 === c.keyCode && b(d).toggle()
		});
		var k = function() {g.find("li").each(function(c, a) {c === e ? b(a).addClass("selected") : b(a).removeClass("selected")})}
	})
})(jQuery);
